<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syrumi Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/all.min.css">
</head>
<body>

    <div id="app-container">
        
        <section id="screen-lobby" class="screen active">
            <div class="text-center mb-8">
                <div class="glass p-2 inline-block rounded-full mb-4">
                    <img src="images/syrumi.jpeg" onerror="this.src='https://via.placeholder.com/100?text=Logo'" alt="Syrumi Logo" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
                </div>
                <h1 style="font-weight: 700; color: #ff85b3; font-size: 24px;">SyrumiStore</h1>
                <p style="font-size: 12px; color: #888;">Topup Game & Sosmed Tercepat âœ¨</p>
            </div>

            <div onclick="openKategori('game')" class="glass menu-item">
                <img src="images/icon-game.png" onerror="this.src='https://via.placeholder.com/40?text=G'" alt="Game">
                <span>Top Up Game</span>
            </div>
            <div onclick="openKategori('sosmed')" class="glass menu-item">
                <img src="images/icon-sosmed.png" onerror="this.src='https://via.placeholder.com/40?text=S'" alt="Sosmed">
                <span>Suntik Sosmed</span>
            </div>
            <div onclick="openKategori('ppob')" class="glass menu-item">
                <img src="images/icon-ppob.png" onerror="this.src='https://via.placeholder.com/40?text=P'" alt="PPOB">
                <span>Pulsa, Listrik & Air</span>
            </div>

            <a href="LINK_SALURAN_WA_KAMU" target="_blank" style="text-decoration: none; color: inherit;">
                <div class="glass menu-item" style="border: 1px dashed #ff85b3;">
                    <img src="images/icon-testi.png" onerror="this.src='https://via.placeholder.com/40?text=T'" alt="Testi">
                    <span>Testimoni Saluran</span>
                </div>
            </a>
        </section>

        <section id="screen-kategori" class="screen">
            <button class="btn-back" onclick="goToLobby()">
                <i class="fas fa-arrow-left"></i> Kembali
            </button>
            <h2 id="kategori-title" class="mb-4" style="font-size: 18px; color: #ff85b3;">Pilih Layanan</h2>
            
            <div id="list-layanan"></div>
        </section>

        <section id="screen-order" class="screen">
            <button class="btn-back" onclick="backToKategori()">
                <i class="fas fa-arrow-left"></i> Ganti Produk
            </button>
            
            <div class="glass p-5">
                <h2 id="order-title" class="text-center mb-4" style="color: #ff85b3;">Top Up</h2>
                
                <div class="mb-4">
                    <label id="label-input" style="font-size: 11px; font-weight: 600; margin-left: 5px; color: #888;">USER ID & ZONE ID</label>
                    <input type="text" id="user-id" placeholder="Contoh: 1234567 (1234)">
                    
                    <div id="container-cek-id" class="hidden text-right mt-1">
                        <small id="display-username" style="color: #ff85b3; font-style: italic;"></small>
                    </div>
                </div>

                <label style="font-size: 11px; font-weight: 600; margin-left: 5px; color: #888;">PILIH NOMINAL</label>
                <div id="grid-produk" class="product-grid">
                    </div>

                <button class="btn-order" onclick="kirimKeWA()">
                    <i class="fab fa-whatsapp"></i> Pesan Sekarang
                </button>
            </div>
        </section>

    </div>

    <script>
        console.log("Script dimuat!"); // Cek di console apakah tulisan ini muncul

        // --- DATABASE LAYANAN & HARGA ---
        // --- DATABASE LAYANAN (DIPERBARUI) ---
const database = {
    game: [
        { id: 'ml', name: 'Mobile Legends', icon: 'images/icon-mlbb.png', label: 'USER ID (ZONE ID)' },
        { id: 'ff', name: 'Free Fire', icon: 'images/icon-ff.png', label: 'PLAYER ID (UID)' }
    ],
    sosmed: [
        { id: 'tiktok', name: 'TikTok', icon: 'images/icon-tiktok.png', isAppGroup: true },
        { id: 'instagram', name: 'Instagram', icon: 'images/icon-ig.png', isAppGroup: true },
        { id: 'youtube', name: 'YouTube', icon: 'images/icon-yt.png', isAppGroup: true }
    ],
    // Sub-menu untuk Sosmed (Akan muncul di Layer 3)
    sosmed_apps: {
        tiktok: [
            { id: 'tk_fol', name: 'TikTok Followers', label: 'LINK PROFIL TIKTOK' },
            { id: 'tk_like', name: 'TikTok Likes', label: 'LINK VIDEO TIKTOK' },
            { id: 'tk_view', name: 'TikTok Views', label: 'LINK VIDEO TIKTOK' }
        ],
        instagram: [
            { id: 'ig_fol', name: 'IG Followers', label: 'USERNAME / LINK PROFIL' },
            { id: 'ig_like', name: 'IG Likes', label: 'LINK POSTINGAN' }
        ],
        youtube: [
            { id: 'yt_sub', name: 'YT Subscribers', label: 'LINK CHANNEL' },
            { id: 'yt_view', name: 'YT Views', label: 'LINK VIDEO' }
        ]
    }
};

// --- PRICELIST (DIPERBARUI) ---
const pricelist = {
    ml: [
        { item: '3 Diamonds', harga: 'Rp1.200', image: 'images/diamond.png', tersedia: true },
        { item: 'Weekly Pass', harga: 'Rp28.000', image: 'images/wmp.png', tersedia: true }
    ],
    // Contoh Harga TikTok Likes
    tk_like: [
        { item: '100 Likes', harga: 'Rp1.000', image: 'images/heart.png', tersedia: true },
        { item: '500 Likes', harga: 'Rp4.500', image: 'images/heart.png', tersedia: true }
    ],
    // Tambahkan harga lainnya di bawah ini...
};

// --- LOGIKA BARU UNTUK SOSMED ---
function openKategori(cat) {
    currentCategory = cat;
    const listDiv = document.getElementById('list-layanan');
    const title = document.getElementById('kategori-title');
    
    title.innerText = "Pilih " + (cat === 'game' ? 'Game' : 'Aplikasi Sosmed');
    listDiv.innerHTML = "";

    database[cat].forEach(item => {
        // Jika ini adalah grup aplikasi (seperti TikTok/IG)
        if (item.isAppGroup) {
            listDiv.innerHTML += `
                <div onclick="openSubSosmed('${item.id}', '${item.name}')" class="glass menu-item">
                    <img src="${item.icon}" onerror="this.src='https://via.placeholder.com/40'">
                    <span>${item.name}</span>
                </div>
            `;
        } else {
            // Untuk menu standar (Game/PPOB)
            listDiv.innerHTML += `
                <div onclick="openOrder('${item.id}', '${item.name}', '${item.label}')" class="glass menu-item">
                    <img src="${item.icon}" onerror="this.src='https://via.placeholder.com/40'">
                    <span>${item.name}</span>
                </div>
            `;
        }
    });
    switchScreen('screen-kategori');
}

// Fungsi untuk membuka Layer "Sub-Layanan" Sosmed (Misal: Follower/Like)
function openSubSosmed(appId, appName) {
    const listDiv = document.getElementById('list-layanan');
    const title = document.getElementById('kategori-title');
    
    title.innerText = "Layanan " + appName;
    listDiv.innerHTML = "";

    database.sosmed_apps[appId].forEach(sub => {
        listDiv.innerHTML += `
            <div onclick="openOrder('${sub.id}', '${sub.name}', '${sub.label}')" class="glass menu-item">
                <i class="fas fa-chevron-right" style="margin-right: 15px; color: #ff85b3;"></i>
                <span>${sub.name}</span>
            </div>
        `;
    });
    // Tetap di screen-kategori tapi isinya berubah
}

        // --- STATE MANAGEMENT ---
        let currentCategory = "";
        let selectedProduct = "";
        let selectedPrice = "";
        let currentID = "";

        // --- FUNGSI NAVIGASI (KAMAR) ---
        function openKategori(cat) {
            console.log("Membuka kategori:", cat); 
            currentCategory = cat;
            const listDiv = document.getElementById('list-layanan');
            const title = document.getElementById('kategori-title');
            
            title.innerText = "Pilih " + (cat === 'game' ? 'Game' : cat === 'sosmed' ? 'Sosmed' : 'Layanan');
            listDiv.innerHTML = "";

            if (database[cat]) {
                database[cat].forEach(item => {
                    listDiv.innerHTML += `
                        <div onclick="openOrder('${item.id}', '${item.name}', '${item.label}')" class="glass menu-item">
                            <img src="${item.icon}" onerror="this.src='https://via.placeholder.com/40'">
                            <span>${item.name}</span>
                        </div>
                    `;
                });
                switchScreen('screen-kategori');
            } else {
                alert("Kategori belum ada isinya kak!");
            }
        }

        function openOrder(id, name, label) {
            currentID = id;
            document.getElementById('order-title').innerText = name;
            document.getElementById('label-input').innerText = label;
            document.getElementById('user-id').value = ""; 
            
            if(id === 'ml') {
                document.getElementById('container-cek-id').classList.remove('hidden');
            } else {
                document.getElementById('container-cek-id').classList.add('hidden');
            }

            renderProducts(id);
            switchScreen('screen-order');
        }

        function renderProducts(id) {
            const grid = document.getElementById('grid-produk');
            grid.innerHTML = "";
            selectedProduct = ""; 

            if (!pricelist[id]) {
                grid.innerHTML = "<p style='grid-column: span 2; text-align:center; font-size:12px; color:red;'>Produk belum tersedia.</p>";
                return;
            }

            pricelist[id].forEach(p => {
                const isStok = p.tersedia;
                grid.innerHTML += `
                    <div onclick="${isStok ? `selectItem('${p.item}', '${p.harga}', this)` : ''}" 
                         class="glass product-card ${!isStok ? 'stok-kosong' : ''}">
                        <img src="${p.image}" onerror="this.src='https://via.placeholder.com/35'">
                        <span class="item-name">${p.item}</span>
                        <span class="item-price">${isStok ? p.harga : 'GANGGUAN'}</span>
                    </div>
                `;
            });
        }

        function selectItem(item, harga, element) {
            selectedProduct = item;
            selectedPrice = harga;
            
            document.querySelectorAll('.product-card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
        }

        // --- FUNGSI SISTEM ---
        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function goToLobby() { switchScreen('screen-lobby'); }
        function backToKategori() { switchScreen('screen-kategori'); }

        function kirimKeWA() {
            const userInput = document.getElementById('user-id').value;
            const gameName = document.getElementById('order-title').innerText;

            if (!userInput) return alert("Isi Data Link/ID dulu ya Kak! âœ¨");
            if (!selectedProduct) return alert("Pilih produknya dulu dong! ðŸ’–");

            const nomorWA = "6289507913948";
            const pesan = window.encodeURIComponent(
                `*ORDER SYRUMISTORE*\n` +
                `--------------------------\n` +
                `Produk: ${gameName}\n` +
                `Target: ${userInput}\n` +
                `Item: ${selectedProduct}\n` +
                `Harga: ${selectedPrice}\n` +
                `--------------------------\n` +
                `Mohon instruksi bayarnya min! âœ¨`
            );

            window.location.href = `https://wa.me/${nomorWA}?text=${pesan}`;
        }

        // Tambahkan CSS dinamis untuk stok kosong
        const style = document.createElement('style');
        style.innerHTML = `
            .stok-kosong { opacity: 0.5; filter: grayscale(1); cursor: not-allowed !important; }
            .hidden { display: none; }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
